{% extends "layout.html" %}
{% block title %}إدارة أنواع التقييم{% endblock %}

{% block content %}
<style>
/* Add styles from another list page */
body {
    direction: rtl;
    background-color: #f8fafc;
    font-family: "Cairo", sans-serif;
}
.page-header {
    text-align: center;
    margin-bottom: 25px;
}
.page-header h2 {
    color: #ffffff;
    font-weight: 700;
}
.action-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 0 auto 15px auto;
    max-width: 950px;
}
.action-bar h3 {
    color: #0d47a1;
    font-weight: 700;
}
.card {
    background: #fff;
    border-radius: 14px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.07);
    padding: 20px;
    max-width: 950px;
    margin: 0 auto;
}
table {
    width: 100%;
    border-collapse: collapse;
    text-align: right;
}
th, td {
    padding: 12px 10px;
    border-bottom: 1px solid #ddd;
    text-align: center;
}
th {
    background: #1565c0;
    color: #fff;
    font-weight: 600;
}
.btn {
    padding: 8px 14px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
}
.btn-success { background: #2e7d32; color: white; }
.btn-primary { background: #1565c0; color: white; }
.btn-danger { background: #c62828; color: white; }
</style>

<div class="page-header">
    <h2>⚙️ إدارة أنواع التقييم</h2>
</div>

<div class="action-bar">
  <h3>قائمة أنواع التقييم</h3>
  <a href="{{ url_for('evaluation_types_add') }}" class="btn btn-success">➕ إضافة نوع جديد</a>
</div>

<div class="card">
  <table>
    <thead>
      <tr>
        <th>الترتيب</th>
        <th>الاسم الظاهر</th>
        <th>الاسم البرمجي</th>
        <th>المتطلب السابق</th>
        <th>قابل للتكرار</th>
        <th>الإجراءات</th>
      </tr>
    </thead>
    <tbody>
      {% for t in types %}
      <tr>
        <td>{{ t.SortOrder }}</td>
        <td>{{ t.DisplayName }}</td>
        <td>{{ t.TypeName }}</td>
        <td>{{ t.PrerequisiteName or '--' }}</td>
        <td>{% if t.IsRepeatable %}✅ نعم{% else %}❌ لا{% endif %}</td>
        <td>
          <a href="{{ url_for('evaluation_types_edit', type_id=t.EvaluationTypeID) }}" class="btn btn-primary btn-sm">تعديل</a>
          <form action="{{ url_for('evaluation_types_delete', type_id=t.EvaluationTypeID) }}" method="POST" style="display:inline;"
                onsubmit="return confirm('هل أنت متأكد من الحذف؟')">
            <button type="submit" class="btn btn-danger btn-sm">حذف</button>
          </form>
        </td>
      </tr>
      {% else %}
      <tr>
        <td colspan="6" style="text-align: center;">لا توجد أنواع تقييم معرفة.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}