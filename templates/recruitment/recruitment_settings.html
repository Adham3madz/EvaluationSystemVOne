{% extends "layout.html" %}
{% block title %}Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙˆØ¸ÙŠÙ{% endblock %}

{% block content %}
<style>
    /* === Global Glass Theme === */
    body {
        background: linear-gradient(135deg, #1e1e24, #2a2a35);
        /* Dark background */
        color: white;
    }

    /* Glass Panel Container */
    .glass-panel {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        overflow: hidden;
    }

    /* Glass Header inside panels */
    .glass-header {
        background: rgba(255, 255, 255, 0.1);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        padding: 15px 20px;
    }

    /* Glass Inputs */
    .form-control-glass {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: white !important;
        border-radius: 10px;
    }

    .form-control-glass::placeholder {
        color: rgba(255, 255, 255, 0.5);
    }

    .form-control-glass:focus {
        background: rgba(255, 255, 255, 0.2);
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
        color: white;
        outline: none;
        border-color: rgba(255, 255, 255, 0.5);
    }

    /* Glass Table */
    .table-glass {
        color: white;
        margin-bottom: 0;
    }

    .table-glass th {
        background: rgba(255, 255, 255, 0.1);
        color: #ffc107;
        /* Gold color for headers */
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        font-weight: bold;
    }

    .table-glass td {
        background: transparent;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        color: white;
    }

    .table-glass tr:hover td {
        background: rgba(255, 255, 255, 0.05);
    }

    /* Buttons */
    .btn-glass-back {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: white;
    }

    .btn-glass-back:hover {
        background: rgba(255, 255, 255, 0.2);
        color: white;
    }
</style>

<div class="container-fluid py-4" style="min-height: 100vh;">

    <div class="container" style="max-width: 800px;">

        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h2 class="fw-bold text-white mb-1">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙˆØ¸ÙŠÙ</h2>
                <p class="text-white-50">Ø¥Ø¯Ø§Ø±Ø© Ù‚Ø§Ø¦Ù…Ø© Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ø§Ø³ØªÙ‚Ø§Ù„Ø© ÙˆØ§Ù„Ø±ÙØ¶.</p>
            </div>
            <a href="{{ url_for('recruitment_jobs') }}" class="btn btn-glass-back shadow-sm rounded-pill px-4">
                â¬…ï¸ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆØ¸Ø§Ø¦Ù
            </a>
        </div>

        <div class="row g-4">
            <!-- === COLUMN 1: Termination TYPES === -->
            <div class="col-md-5">
                <div class="glass-panel h-100">
                    <div class="glass-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0 fw-bold text-info">ğŸ“Œ Ø£Ù†ÙˆØ§Ø¹ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø®Ø¯Ù…Ø©</h5>
                    </div>

                    <!-- Add Type Form -->
                    <div class="p-4 border-bottom border-secondary">
                        <form method="POST" class="d-flex gap-2">
                            <input type="text" name="new_type" class="form-control form-control-glass"
                                placeholder="Ù…Ø«Ø§Ù„: Ø§Ø³ØªÙ‚Ø§Ù„Ø©ØŒ ÙØµÙ„..." required>
                            <button type="submit" class="btn btn-info fw-bold shadow-sm">
                                â•
                            </button>
                        </form>
                    </div>

                    <!-- List Types -->
                    <div class="p-0">
                        <table class="table table-glass align-middle mb-0">
                            <thead>
                                <tr>
                                    <th class="ps-4">Ø§Ù„Ù†ÙˆØ¹</th>
                                    <th class="text-end pe-4">Ø¥Ø¬Ø±Ø§Ø¡</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for type in types %}
                                <tr>
                                    <td class="ps-4 fw-bold">{{ type.TypeText }}</td>
                                    <td class="text-end pe-4">
                                        <form method="POST"
                                            onsubmit="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ Ù‚Ø¯ ÙŠØ¤Ø«Ø± Ù‡Ø°Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø©.');">
                                            <input type="hidden" name="delete_type_id" value="{{ type.TypeID }}">
                                            <button type="submit" class="btn btn-sm btn-outline-danger border-0"
                                                title="Ø­Ø°Ù">
                                                âŒ
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                                {% else %}
                                <tr>
                                    <td colspan="2" class="text-center py-4 text-muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù†ÙˆØ§Ø¹ Ù…Ø¶Ø§ÙØ©.</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- === COLUMN 2: Termination REASONS === -->
            <div class="col-md-7">
                <div class="glass-panel h-100">
                    <div class="glass-header">
                        <h5 class="mb-0 fw-bold text-warning">ğŸ“ Ø£Ø³Ø¨Ø§Ø¨ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø®Ø¯Ù…Ø©</h5>
                    </div>

                    <!-- Add Reason Form -->
                    <div class="p-4 border-bottom border-secondary">
                        <form method="POST" class="row g-2">
                            <div class="col-md-4">
                                <select name="type_id" class="form-select form-control-glass text-white" required>
                                    <option value="" selected disabled>-- Ø§Ø®ØªØ± Ø§Ù„Ù†ÙˆØ¹ --</option>
                                    {% for type in types %}
                                    <option value="{{ type.TypeID }}" class="text-dark">{{ type.TypeText }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-md-6">
                                <input type="text" name="new_reason" class="form-control form-control-glass"
                                    placeholder="Ø§Ù„Ø³Ø¨Ø¨ (Ù…Ø«Ø§Ù„: Ø±Ø§ØªØ¨ ØºÙŠØ± Ù…Ù†Ø§Ø³Ø¨)" required>
                            </div>
                            <div class="col-md-2">
                                <button type="submit" class="btn btn-success w-100 fw-bold shadow-sm">
                                    ğŸ’¾
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- List Reasons -->
                    <div class="p-0" style="max-height: 500px; overflow-y: auto;">
                        <table class="table table-glass align-middle mb-0">
                            <thead>
                                <tr>
                                    <th class="ps-4">Ø§Ù„Ù†ÙˆØ¹</th>
                                    <th class="">Ø§Ù„Ø³Ø¨Ø¨</th>
                                    <th class="text-end pe-4">Ø¥Ø¬Ø±Ø§Ø¡</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for reason in reasons %}
                                <tr>
                                    <td class="ps-4 text-info small">{{ reason.TypeText }}</td>
                                    <td class="fw-bold">{{ reason.ReasonText }}</td>
                                    <td class="text-end pe-4">
                                        <form method="POST" onsubmit="return confirm('Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¨Ø¨ØŸ');">
                                            <input type="hidden" name="delete_reason_id" value="{{ reason.ReasonID }}">
                                            <button type="submit" class="btn btn-sm btn-outline-danger border-0">
                                                ğŸ—‘ï¸
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                                {% else %}
                                <tr>
                                    <td colspan="3" class="text-center py-5 text-muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¨Ø§Ø¨ Ù…Ø¶Ø§ÙØ©.</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock %}